---
import Layout from '../layouts/Layout.astro';
import { client, queries, urlFor } from '../lib/sanity';

// Fetch about page data from Sanity
const aboutPage = await client.fetch(queries.aboutPage);
const siteSettings = await client.fetch(queries.siteSettings);

// Helper function to get image URL safely
function getImageUrl(image: any, width: number, height: number): string {
	if (!image?.asset?._ref) {
		return 'https://images.unsplash.com/photo-1566073771259-6a8506099945?w=' + width + '&h=' + height + '&fit=crop&auto=format&q=80&fm=webp';
	}
	return urlFor(image).width(width).height(height).format('webp').quality(85).url();
}

// Extract about page content
const pageTitle = aboutPage?.pageTitle || 'About Us - Paradise Hotel';
const heroTitle = aboutPage?.heroTitle || 'About Paradise Hotel';
const heroSubtitle = aboutPage?.heroSubtitle || 'Our Story';
const heroImage = aboutPage?.heroImage;
const description = aboutPage?.description || 'Discover the story behind Paradise Hotel and our commitment to exceptional hospitality.';
---

<Layout
	title={pageTitle}
	description="Learn about Paradise Hotel's rich history, values, and commitment to providing exceptional luxury hospitality experiences."
>
	<main id="main">
		<!-- Hero Section -->
		<section class="page-hero">
			<div class="hero-content">
				<div class="wrapper">
					<div class="hero-text">
						<span class="hero-subtitle">{heroSubtitle}</span>
						<h1>{heroTitle}</h1>
						<p>{description}</p>
					</div>
				</div>
			</div>
			{heroImage && (
				<div class="hero-image">
					<img
						src={getImageUrl(heroImage, 1920, 1080)}
						alt={heroTitle}
						loading="eager"
					/>
				</div>
			)}
		</section>

		<!-- Our Story Section -->
		<section class="about-story">
			<div class="wrapper">
				<div class="story-content">
					<div class="story-text">
						<h2>Our Story</h2>
						<p>Founded in 1985, Paradise Hotel has been a beacon of luxury and hospitality for over three decades. What began as a small boutique hotel has evolved into a world-class destination that continues to set the standard for exceptional service and unforgettable experiences.</p>
						<p>Our founders envisioned a place where every guest would feel like royalty, where attention to detail would be paramount, and where memories would be crafted that last a lifetime. Today, we remain true to that original vision while embracing innovation and modern luxury.</p>
					</div>
					<div class="story-image">
						<img src="https://images.unsplash.com/photo-1566073771259-6a8506099945?w=600&h=400&fit=crop&auto=format&q=80&fm=webp" alt="Paradise Hotel History" loading="lazy" />
					</div>
				</div>
			</div>
		</section>

		<!-- Our Values Section -->
		<section class="about-values">
			<div class="wrapper">
				<h2>Our Values</h2>
				<div class="values-grid">
					<div class="value-card">
						<div class="value-icon">üåü</div>
						<h3>Excellence</h3>
						<p>We strive for excellence in every interaction, ensuring that our guests receive the highest quality service and attention to detail.</p>
					</div>
					<div class="value-card">
						<div class="value-icon">ü§ù</div>
						<h3>Integrity</h3>
						<p>We conduct our business with honesty, transparency, and respect for our guests, staff, and community.</p>
					</div>
					<div class="value-card">
						<div class="value-icon">üíù</div>
						<h3>Hospitality</h3>
						<p>We believe in creating warm, welcoming experiences that make every guest feel valued and special.</p>
					</div>
					<div class="value-card">
						<div class="value-icon">üå±</div>
						<h3>Sustainability</h3>
						<p>We are committed to environmental responsibility and sustainable practices that protect our planet for future generations.</p>
					</div>
				</div>
			</div>
		</section>

		<!-- Team Section -->
		<section class="about-team">
			<div class="wrapper">
				<h2>Our Team</h2>
				<p>Our dedicated team of hospitality professionals is the heart of Paradise Hotel. Each member brings passion, expertise, and a genuine desire to create exceptional experiences for our guests.</p>
				<div class="team-grid">
					<div class="team-card">
						<img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300&h=300&fit=crop&auto=format&q=80&fm=webp" alt="General Manager" loading="lazy" />
						<h3>Sarah Johnson</h3>
						<p class="team-title">General Manager</p>
						<p>With over 15 years in luxury hospitality, Sarah ensures every aspect of our guest experience exceeds expectations.</p>
					</div>
					<div class="team-card">
						<img src="https://images.unsplash.com/photo-1494790108755-2616b612b786?w=300&h=300&fit=crop&auto=format&q=80&fm=webp" alt="Head Chef" loading="lazy" />
						<h3>Marcus Chen</h3>
						<p class="team-title">Head Chef</p>
						<p>Award-winning chef Marcus creates culinary masterpieces that showcase the finest local and international ingredients.</p>
					</div>
					<div class="team-card">
						<img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=300&h=300&fit=crop&auto=format&q=80&fm=webp" alt="Concierge Manager" loading="lazy" />
						<h3>David Rodriguez</h3>
						<p class="team-title">Concierge Manager</p>
						<p>David's local expertise and attention to detail help guests discover the best experiences our destination has to offer.</p>
					</div>
				</div>
			</div>
		</section>

		<!-- Awards & Recognition -->
		<section class="about-awards">
			<div class="wrapper">
				<h2>Awards & Recognition</h2>
				<div class="awards-grid">
					<div class="award-card">
						<div class="award-icon">üèÜ</div>
						<h3>Luxury Hotel of the Year</h3>
						<p>International Hotel Awards 2023</p>
					</div>
					<div class="award-card">
						<div class="award-icon">‚≠ê</div>
						<h3>Five-Star Rating</h3>
						<p>Forbes Travel Guide 2023</p>
					</div>
					<div class="award-card">
						<div class="award-icon">üçΩÔ∏è</div>
						<h3>Best Fine Dining</h3>
						<p>Regional Culinary Awards 2023</p>
					</div>
					<div class="award-card">
						<div class="award-icon">üåø</div>
						<h3>Green Hotel Certification</h3>
						<p>Environmental Excellence Program</p>
					</div>
				</div>
			</div>
		</section>

		<!-- Contact CTA -->
		<section class="about-cta">
			<div class="wrapper">
				<div class="cta-content">
					<h2>Experience Paradise</h2>
					<p>Ready to discover what makes Paradise Hotel truly special? We invite you to experience our world-class hospitality and create memories that will last a lifetime.</p>
					<div class="cta-actions">
						<a href="/rooms" class="btn btn-primary">View Our Rooms</a>
						<a href="/contact" class="btn btn-secondary">Contact Us</a>
					</div>
				</div>
			</div>
		</section>
	</main>
</Layout>




