---
import Layout from '../layouts/Layout.astro';
import { client, queries, urlFor } from '../lib/sanity';

// Fetch gallery page data from Sanity
const galleryPage = await client.fetch(queries.galleryPage);
const siteSettings = await client.fetch(queries.siteSettings);

// Helper function to get image URL safely
function getImageUrl(image: any, width: number, height: number): string {
	if (!image?.asset?._ref) {
		return 'https://images.unsplash.com/photo-1566073771259-6a8506099945?w=' + width + '&h=' + height + '&fit=crop&auto=format&q=80&fm=webp';
	}
	return urlFor(image).width(width).height(height).format('webp').quality(85).url();
}

// Extract gallery page content
const pageTitle = galleryPage?.pageTitle || 'Gallery - Paradise Hotel';
const heroTitle = galleryPage?.heroTitle || 'Our Gallery';
const heroSubtitle = galleryPage?.heroSubtitle || 'Visual Journey';
const heroImage = galleryPage?.heroImage;
const description = galleryPage?.description || 'Explore our stunning property through beautiful photography showcasing our luxury accommodations, dining, and amenities.';
---

<Layout
	title={pageTitle}
	description="Discover Paradise Hotel through our stunning photo gallery showcasing luxury accommodations, fine dining, world-class amenities, and breathtaking views."
>
	<main id="main">
		<!-- Hero Section -->
		<section class="page-hero">
			<div class="hero-content">
				<div class="wrapper">
					<div class="hero-text">
						<span class="hero-subtitle">{heroSubtitle}</span>
						<h1>{heroTitle}</h1>
						<p>{description}</p>
					</div>
				</div>
			</div>
			{heroImage && (
				<div class="hero-image">
					<img
						src={getImageUrl(heroImage, 1920, 1080)}
						alt={heroTitle}
						loading="eager"
					/>
				</div>
			)}
		</section>

		<!-- Gallery Categories -->
		<section class="gallery-categories">
			<div class="wrapper">
				<h2>Explore Our Spaces</h2>
				<div class="category-grid">
					<div class="category-card">
						<img src="https://images.unsplash.com/photo-1566073771259-6a8506099945?w=400&h=300&fit=crop&auto=format&q=80&fm=webp" alt="Luxury Rooms" loading="lazy" />
						<div class="category-overlay">
							<h3>Luxury Rooms</h3>
							<p>Elegant accommodations with stunning views</p>
							<a href="/rooms" class="btn btn-secondary">View Rooms</a>
						</div>
					</div>
					<div class="category-card">
						<img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=300&fit=crop&auto=format&q=80&fm=webp" alt="Fine Dining" loading="lazy" />
						<div class="category-overlay">
							<h3>Fine Dining</h3>
							<p>Award-winning culinary experiences</p>
							<a href="/dining" class="btn btn-secondary">Explore Dining</a>
						</div>
					</div>
					<div class="category-card">
						<img src="https://images.unsplash.com/photo-1494790108755-2616b612b786?w=400&h=300&fit=crop&auto=format&q=80&fm=webp" alt="Spa & Wellness" loading="lazy" />
						<div class="category-overlay">
							<h3>Spa & Wellness</h3>
							<p>Relaxation and rejuvenation spaces</p>
							<a href="/amenities" class="btn btn-secondary">View Amenities</a>
						</div>
					</div>
					<div class="category-card">
						<img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=400&h=300&fit=crop&auto=format&q=80&fm=webp" alt="Events" loading="lazy" />
						<div class="category-overlay">
							<h3>Events</h3>
							<p>Memorable celebrations and gatherings</p>
							<a href="/events" class="btn btn-secondary">Plan Event</a>
						</div>
					</div>
				</div>
			</div>
		</section>

		<!-- Featured Gallery Images -->
		<section class="featured-gallery">
			<div class="wrapper">
				<h2>Featured Images</h2>
				<div class="gallery-grid">
					<div class="gallery-item large">
						<img src="https://images.unsplash.com/photo-1566073771259-6a8506099945?w=800&h=600&fit=crop&auto=format&q=80&fm=webp" alt="Hotel Exterior" loading="lazy" />
						<div class="gallery-caption">
							<h3>Stunning Architecture</h3>
							<p>Our beautiful exterior showcases modern luxury design</p>
						</div>
					</div>
					<div class="gallery-item">
						<img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=300&fit=crop&auto=format&q=80&fm=webp" alt="Lobby" loading="lazy" />
						<div class="gallery-caption">
							<h3>Grand Lobby</h3>
							<p>Welcoming entrance with elegant design</p>
						</div>
					</div>
					<div class="gallery-item">
						<img src="https://images.unsplash.com/photo-1494790108755-2616b612b786?w=400&h=300&fit=crop&auto=format&q=80&fm=webp" alt="Pool Area" loading="lazy" />
						<div class="gallery-caption">
							<h3>Infinity Pool</h3>
							<p>Breathtaking views from our pool deck</p>
						</div>
					</div>
					<div class="gallery-item">
						<img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=400&h=300&fit=crop&auto=format&q=80&fm=webp" alt="Restaurant" loading="lazy" />
						<div class="gallery-caption">
							<h3>Fine Dining</h3>
							<p>Elegant restaurant setting</p>
						</div>
					</div>
					<div class="gallery-item">
						<img src="https://images.unsplash.com/photo-1566073771259-6a8506099945?w=400&h=300&fit=crop&auto=format&q=80&fm=webp" alt="Spa" loading="lazy" />
						<div class="gallery-caption">
							<h3>Spa Retreat</h3>
							<p>Peaceful wellness sanctuary</p>
						</div>
					</div>
					<div class="gallery-item">
						<img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=300&fit=crop&auto=format&q=80&fm=webp" alt="Suite" loading="lazy" />
						<div class="gallery-caption">
							<h3>Luxury Suite</h3>
							<p>Spacious accommodations with premium amenities</p>
						</div>
					</div>
				</div>
			</div>
		</section>

		<!-- Virtual Tour -->
		<section class="virtual-tour">
			<div class="wrapper">
				<div class="tour-content">
					<div class="tour-text">
						<h2>Take a Virtual Tour</h2>
						<p>Can't visit us in person? Experience Paradise Hotel from anywhere with our immersive virtual tour. Explore our rooms, amenities, and public spaces in stunning 360-degree detail.</p>
						<a href="#" class="btn btn-primary">Start Virtual Tour</a>
					</div>
					<div class="tour-preview">
						<img src="https://images.unsplash.com/photo-1494790108755-2616b612b786?w=600&h=400&fit=crop&auto=format&q=80&fm=webp" alt="Virtual Tour Preview" loading="lazy" />
					</div>
				</div>
			</div>
		</section>

		<!-- Photo Gallery -->
		<section class="photo-gallery">
			<div class="wrapper">
				<h2>Photo Gallery</h2>
				<div class="photo-grid">
					<div class="photo-item">
						<img src="https://images.unsplash.com/photo-1566073771259-6a8506099945?w=300&h=200&fit=crop&auto=format&q=80&fm=webp" alt="Hotel View" loading="lazy" />
					</div>
					<div class="photo-item">
						<img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300&h=200&fit=crop&auto=format&q=80&fm=webp" alt="Room Interior" loading="lazy" />
					</div>
					<div class="photo-item">
						<img src="https://images.unsplash.com/photo-1494790108755-2616b612b786?w=300&h=200&fit=crop&auto=format&q=80&fm=webp" alt="Dining Area" loading="lazy" />
					</div>
					<div class="photo-item">
						<img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=300&h=200&fit=crop&auto=format&q=80&fm=webp" alt="Pool View" loading="lazy" />
					</div>
					<div class="photo-item">
						<img src="https://images.unsplash.com/photo-1566073771259-6a8506099945?w=300&h=200&fit=crop&auto=format&q=80&fm=webp" alt="Spa Area" loading="lazy" />
					</div>
					<div class="photo-item">
						<img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300&h=200&fit=crop&auto=format&q=80&fm=webp" alt="Garden View" loading="lazy" />
					</div>
					<div class="photo-item">
						<img src="https://images.unsplash.com/photo-1494790108755-2616b612b786?w=300&h=200&fit=crop&auto=format&q=80&fm=webp" alt="Lobby Detail" loading="lazy" />
					</div>
					<div class="photo-item">
						<img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=300&h=200&fit=crop&auto=format&q=80&fm=webp" alt="Event Space" loading="lazy" />
					</div>
				</div>
			</div>
		</section>

		<!-- Contact CTA -->
		<section class="gallery-cta">
			<div class="wrapper">
				<div class="cta-content">
					<h2>Ready to Experience Paradise?</h2>
					<p>These images only capture a glimpse of what awaits you. Book your stay and discover the full beauty of Paradise Hotel.</p>
					<div class="cta-actions">
						<a href="/rooms" class="btn btn-primary">Book Now</a>
						<a href="/contact" class="btn btn-secondary">Contact Us</a>
					</div>
				</div>
			</div>
		</section>
	</main>
</Layout>




